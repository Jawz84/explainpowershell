@page "/meta-data"
@inject HttpClient Http
@using System.Net.Http.Json

<MudPaper @ondblclick="Hide" hidden="@IsHidden" Class="ma-2" Elevation="2">
    <MudGrid Spacing="1" Class="ma-1">
        <MudItem>
            <MudText Typo="Typo.caption">Number of commands: </MudText>
            <MudText Typo="Typo.caption">@metaData.NumberOfCommands.ToString()</MudText>
        </MudItem>
        <MudItem>
            <MudText Typo="Typo.caption">Number of about-articles: </MudText>
            <MudText Typo="Typo.caption">@metaData.NumberOfAboutArticles.ToString()</MudText>
        </MudItem>
        <MudItem>
            <MudText Typo="Typo.caption">Number of modules: </MudText>
            <MudText Typo="Typo.caption">@metaData.NumberOfModules.ToString()</MudText>
        </MudItem>
        <MudItem>
            <MudSelect T="string">
                @foreach (var mod in metaData.ModuleNames) 
                {
                    <MudSelectItem T="string" Value="@mod">@mod</MudSelectItem>
                }
            </MudSelect>
        </MudItem>
    </MudGrid>
</MudPaper>

@code {
    private bool IsHidden {get; set;}
    private HelpMetaData metaData = new HelpMetaData();

    protected override async Task OnInitializedAsync()
    {
        metaData.ModuleNames = new List<string>() {""};
        metaData = await Http.GetFromJsonAsync<HelpMetaData>("MetaData");
    }

    private void Hide() 
    {
        IsHidden = true;
    }
}